{"ast":null,"code":"// Process html entity - &#123;, &#xAF;, &quot;, ...\n'use strict';\n\nvar entities = require('../common/entities');\n\nvar has = require('../common/utils').has;\n\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\n\nvar fromCodePoint = require('../common/utils').fromCodePoint;\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE = /^&([a-z][a-z0-9]{1,31});/i;\n\nmodule.exports = function entity(state, silent) {\n  var ch,\n      code,\n      match,\n      pos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26\n  /* & */\n  ) {\n      return false;\n    }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23\n    /* # */\n    ) {\n        match = state.src.slice(pos).match(DIGITAL_RE);\n\n        if (match) {\n          if (!silent) {\n            code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n            state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n          }\n\n          state.pos += match[0].length;\n          return true;\n        }\n      } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) {\n            state.pending += entities[match[1]];\n          }\n\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) {\n    state.pending += '&';\n  }\n\n  state.pos++;\n  return true;\n};","map":{"version":3,"sources":["/Users/yaozixuan/Document/OOSE/my-app/node_modules/markdown-it/lib/rules_inline/entity.js"],"names":["entities","require","has","isValidEntityCode","fromCodePoint","DIGITAL_RE","NAMED_RE","module","exports","entity","state","silent","ch","code","match","pos","max","posMax","src","charCodeAt","slice","toLowerCase","parseInt","pending","length"],"mappings":"AAAA;AAEA;;AAEA,IAAIA,QAAQ,GAAYC,OAAO,CAAC,oBAAD,CAA/B;;AACA,IAAIC,GAAG,GAAiBD,OAAO,CAAC,iBAAD,CAAP,CAA2BC,GAAnD;;AACA,IAAIC,iBAAiB,GAAGF,OAAO,CAAC,iBAAD,CAAP,CAA2BE,iBAAnD;;AACA,IAAIC,aAAa,GAAOH,OAAO,CAAC,iBAAD,CAAP,CAA2BG,aAAnD;;AAGA,IAAIC,UAAU,GAAG,sCAAjB;AACA,IAAIC,QAAQ,GAAK,2BAAjB;;AAGAC,MAAM,CAACC,OAAP,GAAiB,SAASC,MAAT,CAAgBC,KAAhB,EAAuBC,MAAvB,EAA+B;AAC9C,MAAIC,EAAJ;AAAA,MAAQC,IAAR;AAAA,MAAcC,KAAd;AAAA,MAAqBC,GAAG,GAAGL,KAAK,CAACK,GAAjC;AAAA,MAAsCC,GAAG,GAAGN,KAAK,CAACO,MAAlD;;AAEA,MAAIP,KAAK,CAACQ,GAAN,CAAUC,UAAV,CAAqBJ,GAArB,MAA8B;AAAI;AAAtC,IAA+C;AAAE,aAAO,KAAP;AAAe;;AAEhE,MAAIA,GAAG,GAAG,CAAN,GAAUC,GAAd,EAAmB;AACjBJ,IAAAA,EAAE,GAAGF,KAAK,CAACQ,GAAN,CAAUC,UAAV,CAAqBJ,GAAG,GAAG,CAA3B,CAAL;;AAEA,QAAIH,EAAE,KAAK;AAAK;AAAhB,MAAyB;AACvBE,QAAAA,KAAK,GAAGJ,KAAK,CAACQ,GAAN,CAAUE,KAAV,CAAgBL,GAAhB,EAAqBD,KAArB,CAA2BT,UAA3B,CAAR;;AACA,YAAIS,KAAJ,EAAW;AACT,cAAI,CAACH,MAAL,EAAa;AACXE,YAAAA,IAAI,GAAGC,KAAK,CAAC,CAAD,CAAL,CAAS,CAAT,EAAYO,WAAZ,OAA8B,GAA9B,GAAoCC,QAAQ,CAACR,KAAK,CAAC,CAAD,CAAL,CAASM,KAAT,CAAe,CAAf,CAAD,EAAoB,EAApB,CAA5C,GAAsEE,QAAQ,CAACR,KAAK,CAAC,CAAD,CAAN,EAAW,EAAX,CAArF;AACAJ,YAAAA,KAAK,CAACa,OAAN,IAAiBpB,iBAAiB,CAACU,IAAD,CAAjB,GAA0BT,aAAa,CAACS,IAAD,CAAvC,GAAgDT,aAAa,CAAC,MAAD,CAA9E;AACD;;AACDM,UAAAA,KAAK,CAACK,GAAN,IAAaD,KAAK,CAAC,CAAD,CAAL,CAASU,MAAtB;AACA,iBAAO,IAAP;AACD;AACF,OAVD,MAUO;AACLV,MAAAA,KAAK,GAAGJ,KAAK,CAACQ,GAAN,CAAUE,KAAV,CAAgBL,GAAhB,EAAqBD,KAArB,CAA2BR,QAA3B,CAAR;;AACA,UAAIQ,KAAJ,EAAW;AACT,YAAIZ,GAAG,CAACF,QAAD,EAAWc,KAAK,CAAC,CAAD,CAAhB,CAAP,EAA6B;AAC3B,cAAI,CAACH,MAAL,EAAa;AAAED,YAAAA,KAAK,CAACa,OAAN,IAAiBvB,QAAQ,CAACc,KAAK,CAAC,CAAD,CAAN,CAAzB;AAAsC;;AACrDJ,UAAAA,KAAK,CAACK,GAAN,IAAaD,KAAK,CAAC,CAAD,CAAL,CAASU,MAAtB;AACA,iBAAO,IAAP;AACD;AACF;AACF;AACF;;AAED,MAAI,CAACb,MAAL,EAAa;AAAED,IAAAA,KAAK,CAACa,OAAN,IAAiB,GAAjB;AAAuB;;AACtCb,EAAAA,KAAK,CAACK,GAAN;AACA,SAAO,IAAP;AACD,CAjCD","sourcesContent":["// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n"]},"metadata":{},"sourceType":"script"}